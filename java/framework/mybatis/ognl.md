# mybatis xml SQL语法

1. mybatis xml表达式里可以直接使用传过来的对象(上下文)进行方法调用:
    ```html
    <choose>
        <when test="cmsUser.isLimit10('')">
            limit 5
        </when>
    </choose>
    ```
2. 可以直接调用静态方法或者静态属性:
    ```html
    <choose>
        <when test="@com.learn.mybtais.util.StringUtil@isEmpty(usr.username)">
            limit 5
        </when>    
    </choose>
    ```
    + 调用静态方法  
      @class@method(args)
    + 调用静态属性  
      @class@property
    + 判断是否在一个集合(数组)内,如果是字符串值需要加上对应的(单\双)引号
      ```html
         <choose>
            <when test="usr.role in {1,10,11,12}">
                limit 5
            </when>
         </choose>
      ```
3. mybatis运算符

   |   运算符符号    | 等价 | 运算符单词 |                      描述                       |
   |:----------:|:--:|:-----:|:---------------------------------------------:|
   |     !      | =  |  not  |                    逻辑非运算符                     |
   |    \|\|    | =  |  or   |                    逻辑或运算符                     |
   |     &&     | =  |  and  |                    逻辑与运算符                     |
   |     \|     | =  |  bor  |                    按位或运算符                     |
   |     ^      | =  |  xor  |      按位异或运算符  (集合(数组)过滤取第一个满足条件的元素(集合))       |
   |     &      | =  | band  |                    按位与运算符                     |
   |     ==     | =  |  eq   |                   比较是否相等运算符                   |
   |     !=     | =  |  neq  |                  比较是否不相等运算符                   |
   |     <      | =  |  lt   |                   比较是否小于运算符                   |
   |     \>     | =  |  gt   |                   比较是否大于运算符                   |
   |     <=     | =  |  lte  |                 比较是否小于等于运算符R                  |
   |     >=     | =  |  gte  |                  比较是否大于等于运算符                  |
   |     <<     | =  |  shl  |                    向左移位运算符                    |
   |    \>\>    | =  |  shr  |                    向右移位运算符                    |
   |   \>\>\>   | =  | ushr  |                  无符号向右移位运算符                   |
   |     +      | =  |       |                  加运算符(单目正数)                   |
   |     -      | =  |       |                  减运算符(单目负数)                   |
   |     *      | =  |       |                     乘运算符                      |
   |     /      | =  |       |                     除运算符                      |
   |     %      | =  |       |                     求余运算符                     |
   |     ~      | =  |       |                    按位取反运算符                    |
   |     ?      | =  |       |                集合(数组)过滤filter                 |
   |     $      | =  |       |          (集合(数组)过滤取最后一个满足条件的元素(集合))           |
   |     in     | =  |       |                   判断是否在集合内                    |
   | instanceof | =  |       |                判断对象是否某个类型的子类型                 |
   |     =      | =  |       |                      赋值                       |
   |     ,      | =  |       |             逗号表达式,表达式的值是最后一个表达式的值             |
   |     .      | =  |       |                  对象属性或者是方法调用                  |
   |     (      | =  |       |                                               |
   |     [      | =  |       |                                               |
   |     {      | =  |       | 集合(数组)过滤表达式    里面直接写属性名就是map   (#this 代表元素自身) |
   |   #root    | =  |       |                  OGNL的root对象                  |
   |    new     | =  |       |                   支持直接创建对象                    |
4. 其它
   创建list   #{a,b,c}  在test表达式内可省略#  
   创建map    #{a:b,c:d}  在test表达式内可省略#  
   常量:
   *true*
   *false*
   *null*